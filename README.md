# lpc1114_homework
【嵌入式系统开发】Keil 实现十次作业详细代码目录

作业1 利用delay()函数实现led闪烁

实现两秒亮灭

作业2：利用系统节拍定时器实现LED灯闪烁

通过系统节拍定时器，中断服务子程序，完成小灯不停的闪烁（亮灭），闪烁间隔3秒，并为每一行代码写汉语注释


作业3 按键输入控制LED灯闪烁频率

在Keil MDK 4.74上编写一段程序，系统上电，系统工作频率为48MHz，RGB红色灯亮，利用系统节拍定时器SysTick实现定时1s，控制LPC1114微控制器的GPIO引脚PIO1_9状态反转（LED灯BLINKY闪烁），设置按键PIO0_1，PIO1_4，PIO1_8，为GPIO输入，设置中断方式判断按键状态。

按键功能：1. PIO1_4按键按下增加定时时间，最大2s，PIO1_8按键按下减少定时时间，最小100ms，步进间隔100ms，适当考虑按键防抖功能。2. 按键PIO0_1按下，降低系统工作频率为24MHz，RGB绿色灯亮，观察一下LED灯BLINKY闪烁的频率有无变化？分析原因；再次按下，系统工作频率恢复到48MHz，RGB红色灯亮，观察LED灯BLINKY闪烁的频率。

作业4 设置16位定时器1工作在PWM模式

（1）利用16位定时器1实现定时1s，控制LPC1114微控制器的GPIO引脚PIO1_9上的LED灯状态反转（可以用中断方式也可以用匹配输出功能）；

（2）利用另外一个定时器定时增大或者减小占空比，实现PIO1_9上的LED灯渐亮渐灭的呼吸灯效果，改变呼吸的频率观察效果。

作业5 UART数据传输

（1）初始化LPC1114微控制器UART串行口，设置波特率为115200，数据位：8，停止位：1；校验位：无；中断使能；

（2）利用中断方式等待接收数据，利用PC串口调试助手向LPC1114发送一个16进制数据0xAA，LPC1114接收到数据后，发送一个十六进制数据0x55，串口调试助手应该能够正确显示接收到的数据。

（3）尝试使用FIFO连续发送和接收一组数据（不超过16字节）。

作业6：LM75BD温度检测

（1）初始化LPC1114微控制器UART串行口，定时器和I2C总线接口；

（2）利用通用定时器实现定时1s中断，在定时器中断服务子程序中读取LM75BD（I2C总线）当前温度值，并通过串行口发送到PC，在PC上利用串口调试助手接收数据，并观察温度的变化。

作业7FLASH存储器操作

（1）初始化LPC1114微控制器UART串行口，定时器、I2C总线接口、SSP串行端口为SPI帧格式；

（2）系统启动后，利用通用定时器实现定时1s中断，在定时器中断服务子程序中读取LM75BD（I2C总线）当前温度值，并通过SPI接口将读到的温度值存储到FLASH存储器XT25F02中，在PC上利用串口调试助手向LPC1114的UART接口发送读取命令，从FLASH存储器中读出温度数据，并通过UART接口发送到PC，利用串口调试助手接收温度数据（保留3位小数）。

作业8 ADC模数转换

（1）初始化LPC1114微控制器UART串行口，AD转换器分别初始化为软件控制模式（CR中的BURST位为0，立即启动、硬件触发[1]）和硬件扫描模式（CR中的BURST位为1），开启AD中断，设置AD0为模拟输入引脚；

（2）启动AD转换，在AD中断服务子程序中读取AD转换的值（AD0通道），并通过UART接口发送到PC，利用串口调试助手接收数据。

作业9  电源管理与功率控制

（1）立即睡眠：初始化LPC1114，SysTick定时100ms，在异常服务子程序中设置一个计数器，每计10个数就设置PIO1_9引脚状态反转，在主程序中调用__WFI( )内部函数，进入睡眠模式，观察系统节拍定时器中断是否可以唤醒睡眠模式？并就现象作解释说明。

（2）退出时睡眠：初始化LPC1114，SysTick定时100ms，在异常服务子程序中设置一个计数器，每计10个数就设置PIO1_9引脚状态反转，设置系统控制寄存器SCR的SLEEPONEXIT位为1（退出时睡眠），观察系统运行状态，并作解释说明。

（3）深度睡眠：设置系统控制寄存器SCR的SLEEPDEEP位为1，重复（2）的操作，观察系统运行状态，并作解释说明。

（4）深度掉电：用文字说明如何进入深度掉电模式，如何从深度掉电模式唤醒。

作业10：RTC时间设置与读取

在Keil MDK 4.74上按照CMSIS标准编写一段程序：

（1）初始化LPC1114微控制器UART串行口，I2C总线接口，并且初始化DS1307；

（2）读出DS1307的实时日期和时间，通过串行口发送到PC，在PC上利用串口调试助手接收数据，并通过串口调试助手发送日期和时间的设置值，观察RTC是否能够正常运行。

